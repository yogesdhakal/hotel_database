<!DOCTYPE html>
<html>
<head>
  <title>
    DAB Rooms
  </title>
  <link rel="stylesheet" href="/stylesheets/base.css">
  <link href="/stylesheets/rooms.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <%-include('./partials/navbar.ejs')%>
  <%- include('./partials/loggedInAs.ejs', {username: username}) %>
    <div class="container">
      <h2 class="p-3 text-center">Choose a room</h2>
      <hr>
      <div class="list-group">
        <% rooms.forEach(function(room) { %>
          <div class="row px-3 py-1 w-100">
            <span class="col py-1 bg-info me-1 rounded-1">Room for <%=room.Capacity%> people<span class="right">Daily
                  cost: <%=room.PricePerDay%></span></span>
                  <button onclick="makeReservation('<%=userId%>','<%=room.id%>','http\:\/\/localhost:3000\/rooms\/reservation' )" class="col btn btn-secondary"> Rent
              a room</button>
          </div>
          <% }); %>
      </div>
      <% if(isAdmin){%>
        <button onclick="addRoom('http:\/\/localhost:3000\/rooms')" class="col btn btn-secondary"> Add a room</button>
      <% }; %>
    </div>
    <hr>
    <%-include('./partials/footer.ejs')%>
      <script src="../javascripts/makeReservation.js"></script>
      <script src="../javascripts/addRoom.js"></script>
</body>
</html>